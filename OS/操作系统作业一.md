## 操作系统作业一

### 1.请分别从系统和用户的角度，阐述操作系统的功能。

- 系统
  - 操作系统作为一个资源分配器，考虑如何为各个程序和用户分配资源，以便整个系统能有效且公平的运行；
  - 作为一个控制程序管理用户程序的执行，以防计算机资源的错误或不当使用。
- 用户
  - 单个用户单独使用资源：主要是使用方便，其次是性能，最次是资源利用；
  - 多个用户访问同一计算机：主要目标是优化资源利用率；
  - 用户使用与其他工作站及服务器相连的工作站：兼顾方便性和资源利用率。

### 2.概述 multi-programming 和 multi-tasking 的概念及其设计目的。

- 多道程序设计：
  - 概念：允许多个程序（作业）同时进入一个计算机系统的内存并启动进行交替计算的方法；
  - 设计目的：通过安排作业使得CPU总有一个执行作业，从而提高CPU利用率。
- 多任务：
  - 概念：即分时系统，是多道程序设计的自然延伸，指在一台主机上连接了多个带有显示器和键盘的终端，同时允许多个用户通过自己的终端，以交互方式使用计算机，共享主机中的资源。
  - 设计目的：便于人机交互，允许共享主机。

### 3.概述存储的层次以及缓存的思想。

- 存储层次
  - 寄存器
  - 高速缓存
  - 主存储器
  - 本地二级存储
  - 外存（远程二级存储）
- 缓存思想
  - 将信息临时复制到更快存储系统，当需要使用信息时，先检查是否处于缓存，若有就直接使用，若无就获取并复制到缓存中，这样可以大大减少时间，即时间换空间。

### 4.解释什么是系统调用，详细阐述系统调用与 API 的逻辑关系。

- 系统调用，即应用程序通过系统请求操作系统的服务。
- 程序员调用的是API，而在后台API函数为程序员调用实际的系统调用以共同完成函数的功能。即在用户空间用户通过编程接口API调用内核空间的系统调用。

### 5.阐述 Dual Mode 的工作机制，以及采用 Dual Mode 的原因。

- 工作机制
  - 两种单独运行模式：用户模式和内核模式；
  - 计算机通过一个模式位来表示当前模式，区分操作系统执行的任务和为用户执行的任务以满足不同需求，如执行用户应用时处于用户模式，通过系统调用请求操作系统服务时则切换到内核模式；
  - 当操作系统能够控制计算机时，处于内核模式；控制权交给用户程序前，切换至用户模式。
- 原因
  - 某些类型的进程将对用户不可见，而某些任务不需要硬件支持，双重模式可以分别处理这些任务；
  - 为了防止用户更改底层功能防止操作系统和用户程序受到错误用户程序的影响，使用双重模式提供保护。

### 6.概述操作系统需要提供哪些服务。

- 用户界面
- 程序执行
- I/O操作
- 文件系统操作
- 通信
- 错误检测
- 资源分配
- 记账
- 保护与安全

### 7.分别阐述 Monolithic 单片结构，层次化结构，模块化结构和微 内核结构的特点和优劣。

-  Monolithic 单片结构
  - 特点：全部操作系统再内核态中以单一程序方式运行，整个OS以过程集合的方式编写，链接成一个大型可执行二进制程序。各个功能归为不同功能块，同时又相对独立，经过固定界面相互联系。
  - 优点：系统调用接口和内核通信的开销非常小。
  - 缺点：网状关系容易造成循环调用，形成死锁，降低OS可靠性。
- 层次化结构
  - 特点：将OS分成若干层，底层次功能为其上一个层次的功能提供服务；
  - 优点：简化了构造和调试；
  - 缺点：需要合理定义各层，同时相较其他方法效率较差。
- 模块化结构
  - 特点：采用可加载的内核模块。内核提供核心服务，其他服务可在内核运行时动态实现。
  - 优点：类似分层系统，但更加灵活，可通过可加载模块支持不同文件系统。
- 微内核结构
  - 特点：将OS划分成小的，良好定义的模块，只有一个核心模块，即微内核运行在内核态，其他模块则作为普通用户进程运行；
  - 优点：便于扩展操作系统，提供更好的安全性和可靠性；
  - 缺点：由于增加的系统功能的开销，微内核的性能会受损。

### 8.举例说明什么是机制与策略分离的设计原则，并说明该设计的好处。

- 举例：例如文件系统是一种存储机制，而对于用户而言，如何使用文件系统进行存储能更高效就是策略；
- 优点：策略的变化要远远大于机制的变化，将两者分离，可以使机制相对保持稳定，同时可以支持策略较大幅度的变化；可以在不破坏机制的情况下试验新策略，同时使为编写好的机制的测试变得更容易。

